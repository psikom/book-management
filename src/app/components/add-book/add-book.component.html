<div class="row">
  <div class="container col-8">
    <!-- Book details form -->
    <form #f="ngForm" id="ngForm">
      <!-- Title input field [ngModel]="currentBook?.title" for update -->
      <div class="form-group" [ngClass]="{'was-validated' : title.touched}">
        <label for="title">Title</label>
        <input #title="ngModel" [ngModel]="currentBook?.title" required type="text" class="form-control" id="title"
          name="title">
        <div class="invalid-feedback">
          Please provide a valid title.
        </div>
      </div>

      <div class="form-group" [ngClass]="{'was-validated' : author.touched}">
        <label for="author">Author</label>
        <input #author="ngModel" [ngModel]="currentBook?.author" required type="text" class="form-control" id="author"
          name="author">
        <div class="invalid-feedback">
          Please provide a valid author.
        </div>
      </div>

      <div class="form-group" [ngClass]="{'was-validated' : editor.touched}">
        <label for="editor">Editor</label>
        <input #editor="ngModel" [ngModel]="currentBook?.editor" required type="text" class="form-control" id="editor"
          name="editor">
        <div class="invalid-feedback">
          Please provide a valid editor.
        </div>
      </div>

      <div class="form-group" [ngClass]="{'was-validated' : year.touched}">
        <label for="year">year</label>
        <input #year="ngModel" [ngModel]="currentBook?.year" required type="number" class="form-control" id="year"
          name="year">
        <div class="invalid-feedback">
          Please provide a valid year.
        </div>
      </div>

      <div class="form-group" [ngClass]="{'was-validated' : image.touched}">
        <label for="image">Select photo</label>
        <select #image="ngModel" required [ngModel]="currentBook?.image" class="form-control" id="image" name="image">
          <option>alfLila.jpg</option>
          <option>alfLila.webp</option>
          <option>great.jpg</option>
          <option>rich.jpeg</option>
          <option>SeducedbyStory.jpg</option>
        </select>
        <div class="invalid-feedback">
          Please provide a valid image.
        </div>
      </div>
      <!-- Submit button  disabled if f.invalid if succes navigate to list of books-->
      <button [disabled]="f.invalid" routerLink="/" (click)="saveBook(f.value)" type="submit" class="btn btn-primary">
        Submit
      </button>
    </form>
  </div>

  <!-- card section to show the result of add or update -->
  <div *ngIf="f.valid" class="container col-4">
    <div class="row">
      <div class="card">
        <img src="../../assets/{{f.value.image}}" alt="" class="card-img-top photo">
        <div class="card-body">
          <h5 class="card-title">{{f.value.title}}</h5>
          <p class="card-text">{{f.value.author}}</p>
          <p class="card-text">{{f.value.editor}}</p>
          <p class="card-text">{{f.value.year}}</p>
        </div>
      </div>
    </div>
  </div>
</div>